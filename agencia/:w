import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;

public class Main {
	// Transferir para o escopo da def main e corrigir referencias
	private HashMap<String, AgenciaBancaria> agencias = new HashMap<String,AgenciaBancaria>();

	public static boolean addAgencia(HashMap<String, AgenciaBancaria> agencias, AgenciaBancaria newAgencia) {
		if (agencias.containsKey(newAgencia.getNumero())) {
			return false;
		}

		agencias.put(newAgencia.getNumero(), newAgencia);

		return true;
	}

	public static ContaBancaria findAccount (HashMap<String,AgenciaBancaria> agencias,String agenciaNumber, String accountNumber){
		if (!agencias.containsKey(agenciaNumber)){
			return null;
		}
		if (!agencias.get(agenciaNumber).getContas().containsKey(accountNumber)){
			return null;
		}
		return agencias.get(agenciaNumber).getContas().get(accountNumber);
	}

	public static void addAgenciaMenu(HashMap<String,AgenciaBancaria> agencias){
		Scanner scan = new Scanner(System.in);
		System.out.print("Digite o número da nova agêcnia: ");
		String number = scan.nextLine();
		boolean addCompleted = addAgencia(agencias, new AgenciaBancaria(number));
		if (addCompleted) {
			System.out.println("A nova agência foi criada com sucesso!");
		}else {
			System.out.println("Não foi possível criar a agência, já existe uma agência com esse número");
		}
	}


	public static String showMenu(){
		System.out.println("=== Menu ===");
		System.out.println("1 - Adicionar agência");
		System.out.println("2 - Adicionar conta");
		System.out.println("3 - Realizar deposito");
		System.out.println("4 - Realizar saque");
		System.out.println("5 - Verificar saldo da conta");
		System.out.println("6 - Sair");

		Scanner scan = new Scanner(System.in);
		System.out.print("Digite a sua opção: ");
		String opt = scan.nextLine();

		return opt;
	}



	public static void handleOption(String opt, HashMap<String,AgenciaBancaria> agencias) {
		switch(opt){
			case "1":
				addAgenciaMenu(agencias);
				break;
			case "2":
				break;
			case "3":
				break;
			case "4":
				System.out.println("");
				break;
			case "5":
				break;
			case "6":
				System.out.println("Saindo do programa ...");
				break;
			default:
				System.out.println("Opção inválida, fechando o programa ....");
		}
	}

	public static void main(String args[]) {
		Scanner scan= new Scanner(System.in);
		HashMap<String, AgenciaBancaria> agencias = new HashMap<String,AgenciaBancaria>();

		System.out.println("=== Bancos ===");
		String opt;

		while (opt != "6") {
			opt = showMenu();
			handleOption(opt, agencias);
		}
	}
}
